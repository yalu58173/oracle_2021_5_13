## 关于负值的sql相关操作

​	个人遇见情况：在一字段的内容中含有负值，一些相关的操作将“失效”。例如：模糊查找一个符号‘/’,查询无结果，order by分组函数的失效

<img src="F:\查询表所有数据.PNG" alt="以金额-adjust_fee字段为例" style="zoom:67%;" />

```sql
--如图所示，查询表所有之后的结果集里面有一字段adjust_fee中的内容值为负值，接着执行order by分组函数...
```

<img src="F:\分组函数之后的金额值.PNG" style="zoom:67%;" />

解决：因注入数据库之前，该字段中含有非纯数字值的字符（汉字或者特殊字符），将该字段的数据类型定义为varchar字符串类型，

​			1.先排除该字段中的非纯数字值的字符（汉字或者特殊字符），将剩余值进行字段数据类型的转换（cast()函数来转换），再进一步操作

​			2.a.排除汉字：select * from 表名  where ASCIISTR(字段名) like '%\%'；（反向：查找汉字）

​				b.排除特殊字符及汉字：select * from dual01 where regexp_like(name,'(^[0-9]+)$');（注意：金额负数不建议使用）

